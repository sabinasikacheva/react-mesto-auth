{"ast":null,"code":"var _jsxFileName = \"/Users/admin/Documents/Sabina/react-mesto-auth/src/components/App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { Routes, Route, Navigate, useNavigate } from \"react-router-dom\";\nimport Header from \"./Header.js\";\nimport Main from \"./Main.js\";\nimport Footer from \"./Footer.js\";\nimport PopupWithForm from \"./PopupWithForm.js\";\nimport ImagePopup from \"./ImagePopup.js\";\nimport EditProfilePopup from \"./EditProfilePopup\";\nimport EditAvatarPopup from \"./EditAvatarPopup\";\nimport AddPlacePopup from \"./AddPlacePopup\";\nimport api from \"../utils/Api.js\";\nimport CurrentUserContext from \"../contexts/CurrentUserContext.js\";\nimport ProtectedRoute from \"./ProtectedRoute\";\nimport Login from \"./Login.js\";\nimport Register from \"./Register.js\";\nimport InfoTooltip from \"./InfoTooltip.js\";\nimport * as authApi from \"../utils/AuthApi.js\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const navigate = useNavigate();\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\n  const [selectedCard, setSelectedCard] = useState(null);\n  const [currentUser, setCurrentUser] = useState({});\n  const [cards, setCards] = useState([]);\n  const [loggedIn, setLoggedIn] = useState(false);\n  const [isSuccess, setIsSuccess] = useState(false);\n  const [userEmail, setUserEmail] = useState('');\n  const [isInfoTooltip, setIsInfoTooltip] = useState(false);\n\n  //Получаем массив карточек и информацию о пользователе\n  useEffect(() => {\n    api.getCurrentUser().then(data => {\n      setCurrentUser(data);\n    }).catch(err => {\n      console.log(err);\n    });\n    api.getInitialCards().then(cards => {\n      setCards(cards);\n    }).catch(err => {\n      console.log(err);\n    });\n  }, []);\n\n  // Проверяем токен пользователя\n  useEffect(() => {\n    if (localStorage.getItem(\"token\")) {\n      const token = localStorage.getItem(\"token\");\n      authApi.checkToken(token).then(res => {\n        if (res) {\n          setLoggedIn(true);\n          navigate(\"/\", {\n            replace: true\n          });\n          setUserEmail(res.data.email);\n        }\n      }).catch(err => console.log(err));\n    }\n  }, []);\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true);\n  }\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true);\n  }\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true);\n  }\n  function handleCardClick(card) {\n    setSelectedCard(card);\n  }\n  function handleCardLike(card) {\n    // Снова проверяем, есть ли уже лайк на этой карточке\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n\n    // Отправляем запрос в API и получаем обновлённые данные карточки\n    api.changeLikeCardStatus(card._id, !isLiked).then(newCard => {\n      setCards(cards => cards.map(c => c._id === card._id ? newCard : c));\n    }).catch(err => {\n      console.log(err);\n    });\n  }\n  function handleCardDelete(card) {\n    api.deleteCard(card._id).then(() => {\n      setCards(cards => cards.filter(c => c._id !== card._id));\n    }).catch(err => {\n      console.log(err);\n    });\n  }\n  function closeAllPopups() {\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setIsEditAvatarPopupOpen(false);\n    setSelectedCard(null);\n    setIsInfoTooltip(false);\n  }\n  function handleUpdateUser(item) {\n    api.setUserInfo(item).then(res => {\n      setCurrentUser(res);\n      closeAllPopups();\n    }).catch(err => console.log(err));\n  }\n  function handleUpdateAvatar(data) {\n    api.changeUserAvatar(data).then(res => {\n      setCurrentUser(res);\n      closeAllPopups();\n    }).catch(err => console.log(err));\n  }\n  function handleAddPlaceSubmit(item) {\n    api.createCard(item).then(res => {\n      setCards([res, ...cards]);\n      closeAllPopups();\n    }).catch(err => console.log(err));\n  }\n\n  // Обработчик регистрации пользователя\n  const handleRegistrationSubmit = _ref => {\n    let {\n      email,\n      password\n    } = _ref;\n    authApi.register(password, email).then(() => {\n      setIsSuccess(true);\n      setIsInfoTooltip(true);\n      navigate(\"/sign-in\", {\n        replace: true\n      });\n    }).catch(err => {\n      console.log(err);\n      setIsSuccess(false);\n      setIsInfoTooltip(true);\n    });\n  };\n\n  // Обработчик авторизации пользователя\n  const handleLoginSubmit = _ref2 => {\n    let {\n      email,\n      password\n    } = _ref2;\n    authApi.login(password, email).then(res => {\n      localStorage.setItem(\"token\", res.token);\n      setUserEmail(email);\n      setLoggedIn(true);\n      navigate(\"/\", {\n        replace: true\n      });\n    }).catch(err => {\n      console.log(err);\n      setIsSuccess(false);\n      setIsInfoTooltip(true);\n    });\n  };\n\n  // Выход\n  const signOut = () => {\n    localStorage.removeItem(\"token\");\n    setLoggedIn(false);\n    setUserEmail(null);\n    navigate(\"sign-in\", {\n      replace: true\n    });\n  };\n  // Закрытие по Esc\n  const isOpen = isEditAvatarPopupOpen || isEditProfilePopupOpen || isAddPlacePopupOpen || isSuccess || selectedCard;\n  useEffect(() => {\n    function closeByEscape(evt) {\n      if (evt.key === \"Escape\") {\n        closeAllPopups();\n      }\n    }\n    if (isOpen) {\n      document.addEventListener(\"keydown\", closeByEscape);\n      return () => {\n        document.removeEventListener(\"keydown\", closeByEscape);\n      };\n    }\n  }, [isOpen]);\n  return /*#__PURE__*/_jsxDEV(CurrentUserContext.Provider, {\n    value: currentUser,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"body\",\n      children: [/*#__PURE__*/_jsxDEV(_Fragment, {\n        children: /*#__PURE__*/_jsxDEV(Header, {\n          userEmail: userEmail,\n          loggedIn: loggedIn,\n          onOut: signOut\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 214,\n          columnNumber: 7\n        }, this)\n      }, void 0, false), /*#__PURE__*/_jsxDEV(Routes, {\n        children: [/*#__PURE__*/_jsxDEV(Route\n        //exact\n        , {\n          path: \"/\",\n          element: /*#__PURE__*/_jsxDEV(ProtectedRoute, {\n            element: Main,\n            onEditProfile: handleEditProfileClick,\n            onAddPlace: handleAddPlaceClick,\n            onEditAvatar: handleEditAvatarClick,\n            onCardClick: handleCardClick,\n            cards: cards,\n            onCardLike: handleCardLike,\n            onCardDelete: handleCardDelete,\n            loggedIn: loggedIn\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 221,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 217,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/sign-in\",\n          element: /*#__PURE__*/_jsxDEV(Login, {\n            onLogin: handleLoginSubmit,\n            loggedIn: loggedIn\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 236,\n            columnNumber: 20\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 234,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/sign-up\",\n          element: /*#__PURE__*/_jsxDEV(Register, {\n            onRegistration: handleRegistrationSubmit\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 241,\n            columnNumber: 20\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 239,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"*\",\n          element: /*#__PURE__*/_jsxDEV(Navigate, {\n            to: loggedIn ? \"/\" : \"/sign-in\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 245,\n            columnNumber: 20\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 243,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 248,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(EditProfilePopup, {\n        isOpen: isEditProfilePopupOpen,\n        onClose: closeAllPopups,\n        onUpdateUser: handleUpdateUser\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(AddPlacePopup, {\n        isOpen: isAddPlacePopupOpen,\n        onClose: closeAllPopups,\n        onAddPlace: handleAddPlaceSubmit\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(EditAvatarPopup, {\n        isOpen: isEditAvatarPopupOpen,\n        onClose: closeAllPopups,\n        onUpdateAvatar: handleUpdateAvatar\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 259,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(PopupWithForm, {\n        name: \"delete\",\n        title: \"Вы уверены?\",\n        buttonText: \"Да\",\n        onClose: closeAllPopups\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 264,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(ImagePopup, {\n        card: selectedCard,\n        onClose: closeAllPopups\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 270,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(InfoTooltip, {\n        name: \"registration\",\n        textSuccess: \"\\u0412\\u044B \\u0443\\u0441\\u043F\\u0435\\u0448\\u043D\\u043E \\u0437\\u0430\\u0440\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0438\\u0440\\u043E\\u0432\\u0430\\u043B\\u0438\\u0441\\u044C!\",\n        textFail: \"\\u0427\\u0442\\u043E-\\u0442\\u043E \\u043F\\u043E\\u0448\\u043B\\u043E \\u043D\\u0435 \\u0442\\u0430\\u043A! \\u041F\\u043E\\u043F\\u0440\\u043E\\u0431\\u0443\\u0439\\u0442\\u0435 \\u0435\\u0449\\u0451 \\u0440\\u0430\\u0437.\",\n        isOpen: isInfoTooltip,\n        onClose: closeAllPopups,\n        isSuccess: isSuccess\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 274,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 5\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 211,\n    columnNumber: 3\n  }, this);\n}\n_s(App, \"3rAJALyFNKDFYCVfWTb/fGawpmA=\", false, function () {\n  return [useNavigate];\n});\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","Routes","Route","Navigate","useNavigate","Header","Main","Footer","PopupWithForm","ImagePopup","EditProfilePopup","EditAvatarPopup","AddPlacePopup","api","CurrentUserContext","ProtectedRoute","Login","Register","InfoTooltip","authApi","jsxDEV","_jsxDEV","Fragment","_Fragment","App","_s","navigate","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","selectedCard","setSelectedCard","currentUser","setCurrentUser","cards","setCards","loggedIn","setLoggedIn","isSuccess","setIsSuccess","userEmail","setUserEmail","isInfoTooltip","setIsInfoTooltip","getCurrentUser","then","data","catch","err","console","log","getInitialCards","localStorage","getItem","token","checkToken","res","replace","email","handleEditProfileClick","handleAddPlaceClick","handleEditAvatarClick","handleCardClick","card","handleCardLike","isLiked","likes","some","i","_id","changeLikeCardStatus","newCard","map","c","handleCardDelete","deleteCard","filter","closeAllPopups","handleUpdateUser","item","setUserInfo","handleUpdateAvatar","changeUserAvatar","handleAddPlaceSubmit","createCard","handleRegistrationSubmit","_ref","password","register","handleLoginSubmit","_ref2","login","setItem","signOut","removeItem","isOpen","closeByEscape","evt","key","document","addEventListener","removeEventListener","Provider","value","children","className","onOut","fileName","_jsxFileName","lineNumber","columnNumber","path","element","onEditProfile","onAddPlace","onEditAvatar","onCardClick","onCardLike","onCardDelete","onLogin","onRegistration","to","onClose","onUpdateUser","onUpdateAvatar","name","title","buttonText","textSuccess","textFail","_c","$RefreshReg$"],"sources":["/Users/admin/Documents/Sabina/react-mesto-auth/src/components/App.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { Routes, Route, Navigate, useNavigate } from \"react-router-dom\";\nimport Header from \"./Header.js\";\nimport Main from \"./Main.js\";\nimport Footer from \"./Footer.js\";\nimport PopupWithForm from \"./PopupWithForm.js\";\nimport ImagePopup from \"./ImagePopup.js\";\nimport EditProfilePopup from \"./EditProfilePopup\";\nimport EditAvatarPopup from \"./EditAvatarPopup\";\nimport AddPlacePopup from \"./AddPlacePopup\";\nimport api from \"../utils/Api.js\";\nimport CurrentUserContext from \"../contexts/CurrentUserContext.js\";\nimport ProtectedRoute from \"./ProtectedRoute\";\nimport Login from \"./Login.js\";\nimport Register from \"./Register.js\";\nimport InfoTooltip from \"./InfoTooltip.js\";\nimport * as authApi from \"../utils/AuthApi.js\";\n\nfunction App() {\n  const navigate = useNavigate();\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\n  const [selectedCard, setSelectedCard] = useState(null);\n  const [currentUser, setCurrentUser] = useState({});\n  const [cards, setCards] = useState([]);\n  const [loggedIn, setLoggedIn] = useState(false);\n  const [isSuccess, setIsSuccess] = useState(false);\n  const [userEmail, setUserEmail] = useState('');\n  const [isInfoTooltip, setIsInfoTooltip] = useState(false);\n\n  //Получаем массив карточек и информацию о пользователе\n  useEffect(() => {\n    api\n      .getCurrentUser()\n      .then((data) => {\n        setCurrentUser(data);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n    api  \n      .getInitialCards()\n      .then((cards) => {\n        setCards(cards);\n       })\n      .catch((err) => {\n         console.log(err);\n     });\n  }, []);\n\n  // Проверяем токен пользователя\n  useEffect(() => {\n    if (localStorage.getItem(\"token\")) {\n      const token = localStorage.getItem(\"token\");\n\n      authApi\n        .checkToken(token)\n        .then((res) => {\n          if (res) {\n            setLoggedIn(true);\n            navigate(\"/\", { replace: true });\n            setUserEmail(res.data.email);\n          }\n        })\n        .catch((err) => console.log(err));\n    }\n  }, []);\n\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true);\n  }\n\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true);\n  }\n\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true);\n  }\n\n  function handleCardClick(card) {\n    setSelectedCard(card);\n  }\n\n  function handleCardLike(card) {\n    // Снова проверяем, есть ли уже лайк на этой карточке\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n    \n    // Отправляем запрос в API и получаем обновлённые данные карточки\n    api\n      .changeLikeCardStatus(card._id, !isLiked)\n      .then((newCard) => {\n        setCards((cards) => \n          cards.map((c) => c._id === card._id ? newCard : c));\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n  }\n  function handleCardDelete(card) {\n    api.deleteCard(card._id).then(() => {\n      setCards((cards) => cards.filter((c) => c._id !== card._id));\n    })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  function closeAllPopups() {\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setIsEditAvatarPopupOpen(false);\n    setSelectedCard(null);\n    setIsInfoTooltip(false);\n  }\n\n  function handleUpdateUser(item) {\n    api\n      .setUserInfo(item)\n      .then((res) => {\n        setCurrentUser(res);\n        closeAllPopups();\n      })\n      .catch((err) => console.log(err));\n  }\n\n  function handleUpdateAvatar(data) {\n    api\n      .changeUserAvatar(data)\n      .then((res) => {\n        setCurrentUser(res);\n        closeAllPopups();\n      })\n      .catch((err) => console.log(err));\n  }\n\n  function handleAddPlaceSubmit(item) {\n    api\n      .createCard(item)\n      .then((res) => {\n        setCards([res, ...cards]);\n        closeAllPopups();\n      })\n      .catch((err) => console.log(err));\n  }\n\n   // Обработчик регистрации пользователя\n   const handleRegistrationSubmit = ({ email, password }) => {\n    authApi\n      .register(password, email)\n      .then(() => {\n        setIsSuccess(true);\n        setIsInfoTooltip(true);\n        navigate(\"/sign-in\", { replace: true });\n      })\n      .catch((err) => {\n        console.log(err);\n        setIsSuccess(false);\n        setIsInfoTooltip(true);\n      });\n  };\n\n  // Обработчик авторизации пользователя\n  const handleLoginSubmit = ({ email, password }) => {\n    authApi\n      .login(password, email)\n      .then((res) => {\n        localStorage.setItem(\"token\", res.token);\n        setUserEmail(email);\n        setLoggedIn(true);\n        navigate(\"/\", { replace: true });\n      })\n      .catch((err) => {\n        console.log(err);\n        setIsSuccess(false);\n        setIsInfoTooltip(true);\n      });\n  };\n\n  // Выход\n  const signOut = () => {\n    localStorage.removeItem(\"token\");\n    setLoggedIn(false);\n    setUserEmail(null);\n    navigate(\"sign-in\", { replace: true });\n  };\n  // Закрытие по Esc\n  const isOpen =\n    isEditAvatarPopupOpen ||\n    isEditProfilePopupOpen ||\n    isAddPlacePopupOpen ||\n    isSuccess ||\n    selectedCard;\n\n  useEffect(() => {\n    function closeByEscape(evt) {\n      if (evt.key === \"Escape\") {\n        closeAllPopups();\n    }\n  }\n  if (isOpen) {\n    document.addEventListener(\"keydown\", closeByEscape);\n      return () => {\n    document.removeEventListener(\"keydown\", closeByEscape);\n      };\n    }\n  }, [isOpen]);\n\n  return (\n  <CurrentUserContext.Provider value={currentUser}>\n    <div className=\"body\">\n      <>\n      <Header userEmail={userEmail} loggedIn={loggedIn} onOut={signOut} />\n      </>\n      <Routes>\n        <Route\n        //exact\n          path=\"/\"\n          element={\n            <ProtectedRoute\n              element={Main}\n              onEditProfile={handleEditProfileClick}\n              onAddPlace={handleAddPlaceClick}\n              onEditAvatar={handleEditAvatarClick}\n              onCardClick={handleCardClick}\n              cards={cards}\n              onCardLike={handleCardLike}\n              onCardDelete={handleCardDelete}\n              loggedIn={loggedIn}\n            />\n          }\n      />\n        <Route\n          path=\"/sign-in\"\n          element={<Login onLogin={handleLoginSubmit} loggedIn={loggedIn} />}\n        />\n\n        <Route\n          path=\"/sign-up\"\n          element={<Register onRegistration={handleRegistrationSubmit} />}\n        />\n        <Route\n          path=\"*\"\n          element={<Navigate to={loggedIn ? \"/\" : \"/sign-in\"} />}\n        />\n      </Routes>\n      <Footer />\n      <EditProfilePopup \n        isOpen={isEditProfilePopupOpen} \n        onClose={closeAllPopups}\n        onUpdateUser={handleUpdateUser} \n        />\n      <AddPlacePopup\n        isOpen={isAddPlacePopupOpen}\n        onClose={closeAllPopups}\n        onAddPlace={handleAddPlaceSubmit}\n         />\n      <EditAvatarPopup\n        isOpen={isEditAvatarPopupOpen}\n        onClose={closeAllPopups}\n        onUpdateAvatar={handleUpdateAvatar}\n        />\n      <PopupWithForm\n        name={\"delete\"}\n        title={\"Вы уверены?\"}\n        buttonText={\"Да\"}\n        onClose={closeAllPopups}\n      ></PopupWithForm>\n      <ImagePopup\n        card={selectedCard}\n        onClose={closeAllPopups}\n      />\n      <InfoTooltip\n        name=\"registration\"\n        textSuccess=\"Вы успешно зарегистрировались!\"\n        textFail=\"Что-то пошло не так! Попробуйте ещё раз.\"\n        isOpen={isInfoTooltip}\n        onClose={closeAllPopups}\n        isSuccess={isSuccess}\n      />\n    </div>\n  </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,SAASC,MAAM,EAAEC,KAAK,EAAEC,QAAQ,EAAEC,WAAW,QAAQ,kBAAkB;AACvE,OAAOC,MAAM,MAAM,aAAa;AAChC,OAAOC,IAAI,MAAM,WAAW;AAC5B,OAAOC,MAAM,MAAM,aAAa;AAChC,OAAOC,aAAa,MAAM,oBAAoB;AAC9C,OAAOC,UAAU,MAAM,iBAAiB;AACxC,OAAOC,gBAAgB,MAAM,oBAAoB;AACjD,OAAOC,eAAe,MAAM,mBAAmB;AAC/C,OAAOC,aAAa,MAAM,iBAAiB;AAC3C,OAAOC,GAAG,MAAM,iBAAiB;AACjC,OAAOC,kBAAkB,MAAM,mCAAmC;AAClE,OAAOC,cAAc,MAAM,kBAAkB;AAC7C,OAAOC,KAAK,MAAM,YAAY;AAC9B,OAAOC,QAAQ,MAAM,eAAe;AACpC,OAAOC,WAAW,MAAM,kBAAkB;AAC1C,OAAO,KAAKC,OAAO,MAAM,qBAAqB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAAA,SAAAC,QAAA,IAAAC,SAAA;AAE/C,SAASC,GAAGA,CAAA,EAAG;EAAAC,EAAA;EACb,MAAMC,QAAQ,GAAGtB,WAAW,EAAE;EAC9B,MAAM,CAACuB,qBAAqB,EAAEC,wBAAwB,CAAC,GAAG7B,QAAQ,CAAC,KAAK,CAAC;EACzE,MAAM,CAAC8B,sBAAsB,EAAEC,yBAAyB,CAAC,GAAG/B,QAAQ,CAAC,KAAK,CAAC;EAC3E,MAAM,CAACgC,mBAAmB,EAAEC,sBAAsB,CAAC,GAAGjC,QAAQ,CAAC,KAAK,CAAC;EACrE,MAAM,CAACkC,YAAY,EAAEC,eAAe,CAAC,GAAGnC,QAAQ,CAAC,IAAI,CAAC;EACtD,MAAM,CAACoC,WAAW,EAAEC,cAAc,CAAC,GAAGrC,QAAQ,CAAC,CAAC,CAAC,CAAC;EAClD,MAAM,CAACsC,KAAK,EAAEC,QAAQ,CAAC,GAAGvC,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM,CAACwC,QAAQ,EAAEC,WAAW,CAAC,GAAGzC,QAAQ,CAAC,KAAK,CAAC;EAC/C,MAAM,CAAC0C,SAAS,EAAEC,YAAY,CAAC,GAAG3C,QAAQ,CAAC,KAAK,CAAC;EACjD,MAAM,CAAC4C,SAAS,EAAEC,YAAY,CAAC,GAAG7C,QAAQ,CAAC,EAAE,CAAC;EAC9C,MAAM,CAAC8C,aAAa,EAAEC,gBAAgB,CAAC,GAAG/C,QAAQ,CAAC,KAAK,CAAC;;EAEzD;EACAC,SAAS,CAAC,MAAM;IACda,GAAG,CACAkC,cAAc,EAAE,CAChBC,IAAI,CAAEC,IAAI,IAAK;MACdb,cAAc,CAACa,IAAI,CAAC;IACtB,CAAC,CAAC,CACDC,KAAK,CAAEC,GAAG,IAAK;MACdC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC;IAClB,CAAC,CAAC;IACJtC,GAAG,CACAyC,eAAe,EAAE,CACjBN,IAAI,CAAEX,KAAK,IAAK;MACfC,QAAQ,CAACD,KAAK,CAAC;IAChB,CAAC,CAAC,CACFa,KAAK,CAAEC,GAAG,IAAK;MACbC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC;IACpB,CAAC,CAAC;EACL,CAAC,EAAE,EAAE,CAAC;;EAEN;EACAnD,SAAS,CAAC,MAAM;IACd,IAAIuD,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,EAAE;MACjC,MAAMC,KAAK,GAAGF,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;MAE3CrC,OAAO,CACJuC,UAAU,CAACD,KAAK,CAAC,CACjBT,IAAI,CAAEW,GAAG,IAAK;QACb,IAAIA,GAAG,EAAE;UACPnB,WAAW,CAAC,IAAI,CAAC;UACjBd,QAAQ,CAAC,GAAG,EAAE;YAAEkC,OAAO,EAAE;UAAK,CAAC,CAAC;UAChChB,YAAY,CAACe,GAAG,CAACV,IAAI,CAACY,KAAK,CAAC;QAC9B;MACF,CAAC,CAAC,CACDX,KAAK,CAAEC,GAAG,IAAKC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC,CAAC;IACrC;EACF,CAAC,EAAE,EAAE,CAAC;EAEN,SAASW,sBAAsBA,CAAA,EAAG;IAChChC,yBAAyB,CAAC,IAAI,CAAC;EACjC;EAEA,SAASiC,mBAAmBA,CAAA,EAAG;IAC7B/B,sBAAsB,CAAC,IAAI,CAAC;EAC9B;EAEA,SAASgC,qBAAqBA,CAAA,EAAG;IAC/BpC,wBAAwB,CAAC,IAAI,CAAC;EAChC;EAEA,SAASqC,eAAeA,CAACC,IAAI,EAAE;IAC7BhC,eAAe,CAACgC,IAAI,CAAC;EACvB;EAEA,SAASC,cAAcA,CAACD,IAAI,EAAE;IAC5B;IACA,MAAME,OAAO,GAAGF,IAAI,CAACG,KAAK,CAACC,IAAI,CAACC,CAAC,IAAIA,CAAC,CAACC,GAAG,KAAKrC,WAAW,CAACqC,GAAG,CAAC;;IAE/D;IACA3D,GAAG,CACA4D,oBAAoB,CAACP,IAAI,CAACM,GAAG,EAAE,CAACJ,OAAO,CAAC,CACxCpB,IAAI,CAAE0B,OAAO,IAAK;MACjBpC,QAAQ,CAAED,KAAK,IACbA,KAAK,CAACsC,GAAG,CAAEC,CAAC,IAAKA,CAAC,CAACJ,GAAG,KAAKN,IAAI,CAACM,GAAG,GAAGE,OAAO,GAAGE,CAAC,CAAC,CAAC;IACrD,CAAC,CAAC,CACD1B,KAAK,CAAEC,GAAG,IAAK;MACdC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC;IAClB,CAAC,CAAC;EACR;EACA,SAAS0B,gBAAgBA,CAACX,IAAI,EAAE;IAC9BrD,GAAG,CAACiE,UAAU,CAACZ,IAAI,CAACM,GAAG,CAAC,CAACxB,IAAI,CAAC,MAAM;MAClCV,QAAQ,CAAED,KAAK,IAAKA,KAAK,CAAC0C,MAAM,CAAEH,CAAC,IAAKA,CAAC,CAACJ,GAAG,KAAKN,IAAI,CAACM,GAAG,CAAC,CAAC;IAC9D,CAAC,CAAC,CACCtB,KAAK,CAAEC,GAAG,IAAK;MACdC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC;IAClB,CAAC,CAAC;EACN;EAEA,SAAS6B,cAAcA,CAAA,EAAG;IACxBlD,yBAAyB,CAAC,KAAK,CAAC;IAChCE,sBAAsB,CAAC,KAAK,CAAC;IAC7BJ,wBAAwB,CAAC,KAAK,CAAC;IAC/BM,eAAe,CAAC,IAAI,CAAC;IACrBY,gBAAgB,CAAC,KAAK,CAAC;EACzB;EAEA,SAASmC,gBAAgBA,CAACC,IAAI,EAAE;IAC9BrE,GAAG,CACAsE,WAAW,CAACD,IAAI,CAAC,CACjBlC,IAAI,CAAEW,GAAG,IAAK;MACbvB,cAAc,CAACuB,GAAG,CAAC;MACnBqB,cAAc,EAAE;IAClB,CAAC,CAAC,CACD9B,KAAK,CAAEC,GAAG,IAAKC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC,CAAC;EACrC;EAEA,SAASiC,kBAAkBA,CAACnC,IAAI,EAAE;IAChCpC,GAAG,CACAwE,gBAAgB,CAACpC,IAAI,CAAC,CACtBD,IAAI,CAAEW,GAAG,IAAK;MACbvB,cAAc,CAACuB,GAAG,CAAC;MACnBqB,cAAc,EAAE;IAClB,CAAC,CAAC,CACD9B,KAAK,CAAEC,GAAG,IAAKC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC,CAAC;EACrC;EAEA,SAASmC,oBAAoBA,CAACJ,IAAI,EAAE;IAClCrE,GAAG,CACA0E,UAAU,CAACL,IAAI,CAAC,CAChBlC,IAAI,CAAEW,GAAG,IAAK;MACbrB,QAAQ,CAAC,CAACqB,GAAG,EAAE,GAAGtB,KAAK,CAAC,CAAC;MACzB2C,cAAc,EAAE;IAClB,CAAC,CAAC,CACD9B,KAAK,CAAEC,GAAG,IAAKC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC,CAAC;EACrC;;EAEC;EACA,MAAMqC,wBAAwB,GAAGC,IAAA,IAAyB;IAAA,IAAxB;MAAE5B,KAAK;MAAE6B;IAAS,CAAC,GAAAD,IAAA;IACpDtE,OAAO,CACJwE,QAAQ,CAACD,QAAQ,EAAE7B,KAAK,CAAC,CACzBb,IAAI,CAAC,MAAM;MACVN,YAAY,CAAC,IAAI,CAAC;MAClBI,gBAAgB,CAAC,IAAI,CAAC;MACtBpB,QAAQ,CAAC,UAAU,EAAE;QAAEkC,OAAO,EAAE;MAAK,CAAC,CAAC;IACzC,CAAC,CAAC,CACDV,KAAK,CAAEC,GAAG,IAAK;MACdC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC;MAChBT,YAAY,CAAC,KAAK,CAAC;MACnBI,gBAAgB,CAAC,IAAI,CAAC;IACxB,CAAC,CAAC;EACN,CAAC;;EAED;EACA,MAAM8C,iBAAiB,GAAGC,KAAA,IAAyB;IAAA,IAAxB;MAAEhC,KAAK;MAAE6B;IAAS,CAAC,GAAAG,KAAA;IAC5C1E,OAAO,CACJ2E,KAAK,CAACJ,QAAQ,EAAE7B,KAAK,CAAC,CACtBb,IAAI,CAAEW,GAAG,IAAK;MACbJ,YAAY,CAACwC,OAAO,CAAC,OAAO,EAAEpC,GAAG,CAACF,KAAK,CAAC;MACxCb,YAAY,CAACiB,KAAK,CAAC;MACnBrB,WAAW,CAAC,IAAI,CAAC;MACjBd,QAAQ,CAAC,GAAG,EAAE;QAAEkC,OAAO,EAAE;MAAK,CAAC,CAAC;IAClC,CAAC,CAAC,CACDV,KAAK,CAAEC,GAAG,IAAK;MACdC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC;MAChBT,YAAY,CAAC,KAAK,CAAC;MACnBI,gBAAgB,CAAC,IAAI,CAAC;IACxB,CAAC,CAAC;EACN,CAAC;;EAED;EACA,MAAMkD,OAAO,GAAGA,CAAA,KAAM;IACpBzC,YAAY,CAAC0C,UAAU,CAAC,OAAO,CAAC;IAChCzD,WAAW,CAAC,KAAK,CAAC;IAClBI,YAAY,CAAC,IAAI,CAAC;IAClBlB,QAAQ,CAAC,SAAS,EAAE;MAAEkC,OAAO,EAAE;IAAK,CAAC,CAAC;EACxC,CAAC;EACD;EACA,MAAMsC,MAAM,GACVvE,qBAAqB,IACrBE,sBAAsB,IACtBE,mBAAmB,IACnBU,SAAS,IACTR,YAAY;EAEdjC,SAAS,CAAC,MAAM;IACd,SAASmG,aAAaA,CAACC,GAAG,EAAE;MAC1B,IAAIA,GAAG,CAACC,GAAG,KAAK,QAAQ,EAAE;QACxBrB,cAAc,EAAE;MACpB;IACF;IACA,IAAIkB,MAAM,EAAE;MACVI,QAAQ,CAACC,gBAAgB,CAAC,SAAS,EAAEJ,aAAa,CAAC;MACjD,OAAO,MAAM;QACfG,QAAQ,CAACE,mBAAmB,CAAC,SAAS,EAAEL,aAAa,CAAC;MACpD,CAAC;IACH;EACF,CAAC,EAAE,CAACD,MAAM,CAAC,CAAC;EAEZ,oBACA7E,OAAA,CAACP,kBAAkB,CAAC2F,QAAQ;IAACC,KAAK,EAAEvE,WAAY;IAAAwE,QAAA,eAC9CtF,OAAA;MAAKuF,SAAS,EAAC,MAAM;MAAAD,QAAA,gBACnBtF,OAAA,CAAAE,SAAA;QAAAoF,QAAA,eACAtF,OAAA,CAAChB,MAAM;UAACsC,SAAS,EAAEA,SAAU;UAACJ,QAAQ,EAAEA,QAAS;UAACsE,KAAK,EAAEb;QAAQ;UAAAc,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA;MAAG,iBACjE,eACH5F,OAAA,CAACpB,MAAM;QAAA0G,QAAA,gBACLtF,OAAA,CAACnB;QACD;QAAA;UACEgH,IAAI,EAAC,GAAG;UACRC,OAAO,eACL9F,OAAA,CAACN,cAAc;YACboG,OAAO,EAAE7G,IAAK;YACd8G,aAAa,EAAEtD,sBAAuB;YACtCuD,UAAU,EAAEtD,mBAAoB;YAChCuD,YAAY,EAAEtD,qBAAsB;YACpCuD,WAAW,EAAEtD,eAAgB;YAC7B5B,KAAK,EAAEA,KAAM;YACbmF,UAAU,EAAErD,cAAe;YAC3BsD,YAAY,EAAE5C,gBAAiB;YAC/BtC,QAAQ,EAAEA;UAAS;YAAAuE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA;QAEtB;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,QACH,eACA5F,OAAA,CAACnB,KAAK;UACJgH,IAAI,EAAC,UAAU;UACfC,OAAO,eAAE9F,OAAA,CAACL,KAAK;YAAC0G,OAAO,EAAE9B,iBAAkB;YAACrD,QAAQ,EAAEA;UAAS;YAAAuE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA;QAAI;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,QACnE,eAEF5F,OAAA,CAACnB,KAAK;UACJgH,IAAI,EAAC,UAAU;UACfC,OAAO,eAAE9F,OAAA,CAACJ,QAAQ;YAAC0G,cAAc,EAAEnC;UAAyB;YAAAsB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA;QAAI;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,QAChE,eACF5F,OAAA,CAACnB,KAAK;UACJgH,IAAI,EAAC,GAAG;UACRC,OAAO,eAAE9F,OAAA,CAAClB,QAAQ;YAACyH,EAAE,EAAErF,QAAQ,GAAG,GAAG,GAAG;UAAW;YAAAuE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA;QAAI;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,QACvD;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,QACK,eACT5F,OAAA,CAACd,MAAM;QAAAuG,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,QAAG,eACV5F,OAAA,CAACX,gBAAgB;QACfwF,MAAM,EAAErE,sBAAuB;QAC/BgG,OAAO,EAAE7C,cAAe;QACxB8C,YAAY,EAAE7C;MAAiB;QAAA6B,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,QAC7B,eACJ5F,OAAA,CAACT,aAAa;QACZsF,MAAM,EAAEnE,mBAAoB;QAC5B8F,OAAO,EAAE7C,cAAe;QACxBqC,UAAU,EAAE/B;MAAqB;QAAAwB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,QAC9B,eACL5F,OAAA,CAACV,eAAe;QACduF,MAAM,EAAEvE,qBAAsB;QAC9BkG,OAAO,EAAE7C,cAAe;QACxB+C,cAAc,EAAE3C;MAAmB;QAAA0B,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,QACjC,eACJ5F,OAAA,CAACb,aAAa;QACZwH,IAAI,EAAE,QAAS;QACfC,KAAK,EAAE,aAAc;QACrBC,UAAU,EAAE,IAAK;QACjBL,OAAO,EAAE7C;MAAe;QAAA8B,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,QACT,eACjB5F,OAAA,CAACZ,UAAU;QACTyD,IAAI,EAAEjC,YAAa;QACnB4F,OAAO,EAAE7C;MAAe;QAAA8B,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,QACxB,eACF5F,OAAA,CAACH,WAAW;QACV8G,IAAI,EAAC,cAAc;QACnBG,WAAW,EAAC,uKAAgC;QAC5CC,QAAQ,EAAC,qMAA0C;QACnDlC,MAAM,EAAErD,aAAc;QACtBgF,OAAO,EAAE7C,cAAe;QACxBvC,SAAS,EAAEA;MAAU;QAAAqE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,QACrB;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EACE;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,QACsB;AAEhC;AAACxF,EAAA,CA1QQD,GAAG;EAAA,QACOpB,WAAW;AAAA;AAAAiI,EAAA,GADrB7G,GAAG;AA4QZ,eAAeA,GAAG;AAAC,IAAA6G,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}